#{extends 'main.html' /}
#{set title:'QEFWeb - A GUI Web Front-End to execute and manage Query Execution Plans' /}

<a href="https://github.com/franzejr/qefweb" title="GitHub Repository" target="_blank"><img align="right" src="@{'/public/images/forkme.png'}" /></a>

#{if flash.error}
    <p style="color:#c00">
        ${flash.error}
    </p>
#{/if}
#{if flash.success}
    <p style="color:#0c0">
        ${flash.success}
    </p>
#{/if}

<div id="content">
	<h1>QEF Web</h1>
	<br/><br/><br/>
	<h3>Plans</h3>
	<table align="center">
	<tr class="title">
		<th>
        </th>
		<th>Description</th>
		<th colspan="5">Actions</th>
	</tr>
	#{list items:qeps, as:'qep' }
	<tr class="list">
		<td>
        %{ cached = qmr.isLoaded(qep.id); }%
        #{if cached}
        	<img alt="Cached" title="Cached" src="@{'/public/images/ball-green.png'}"/>
        #{/if}
        #{else}
        	<img alt="Not Cached" title="Not Cached" src="@{'/public/images/ball-gray.png'}"/>
        #{/else}
		</td>
		<td>${qep.description}</td>
		<td><a href="@{Application.reload(qep.id)}" title="Reload Plan"><img alt="Reload" src="@{'/public/images/reload.gif'}"/></a></td>
		<td><a href="@{Application.show(qep.id)}" title="Show Plan"><img alt="Show" src="@{'/public/images/show.png'}"/></a></td>
		<td><a href="@{Application.executeQuery(qep.id, "html")}" title="Outputs query results to HTML format"><img alt="HTML" src="@{'/public/images/html.png'}"/></a></td>
		<td><a href="@{Application.executeQuery(qep.id, "xml")}" title="Outputs query results to XML format"><img alt="XML" src="@{'/public/images/xml.png'}"/></a></td>
		<td><a href="@{Application.executeQuery(qep.id, "json")}" title="Outputs query results to JSON format"><img alt="JSON" src="@{'/public/images/json.png'}"/></a></td>
	</tr>
	#{/list}
	</table>
	
	<div id="about">
		<h3>About</h3>
		<p>
		QEFWeb - A GUI Web Front-End to execute and manage Query Execution Plans using QEF (Query Evaluation Framework).
		</p>
	</div>
</div>





